import{u as I,O as T,b as B,a as M,Q as E}from"./index.0bda842e.js";import{P as b,n as R,ak as z,_ as G,af as q,ag as D,ai as L,r as y,c as _,o as P,U as m,a1 as $,a3 as N,a2 as U,V as C,W as i,X as r,a4 as n,$ as p,a6 as O,a7 as X,H as Z,al as j,am as W,ah as F,Z as Y}from"./index.82275094.js";import"./axios.53a41ac7.js";import{Q as J}from"./QAvatar.16cb130e.js";import{c as K,Q as k,b as x,d as ee}from"./QItem.2152e520.js";import{Q as te}from"./use-router-link.7cc4e0c5.js";import{Q as ae}from"./QBtn.c6b8a42a.js";var oe=["second","minute","hour","day","week","month","year"];function se(e,t){if(t===0)return["just now","right now"];var a=oe[Math.floor(t/2)];return e>1&&(a+="s"),[e+" "+a+" ago","in "+e+" "+a]}var re=["\u79D2","\u5206\u949F","\u5C0F\u65F6","\u5929","\u5468","\u4E2A\u6708","\u5E74"];function ne(e,t){if(t===0)return["\u521A\u521A","\u7247\u523B\u540E"];var a=re[~~(t/2)];return[e+" "+a+"\u524D",e+" "+a+"\u540E"]}var S={},H=function(e,t){S[e]=t},ie=function(e){return S[e]||S.en_US},w=[60,60,24,7,365/7/12,12];function Q(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}function ce(e,t){var a=e<0?1:0;e=Math.abs(e);for(var s=e,o=0;e>=w[o]&&o<w.length;o++)e/=w[o];return e=Math.floor(e),o*=2,e>(o===0?9:1)&&(o+=1),t(e,o,s)[a].replace("%s",e.toString())}function le(e,t){var a=t?Q(t):new Date;return(+a-+Q(e))/1e3}var V=function(e,t,a){var s=le(e,a&&a.relativeDate);return ce(s,ie(t))};H("en_US",se);H("zh_CN",ne);function ue(e){const t=Object.assign({noopener:!0},e),a=[];for(const s in t){const o=t[s];o===!0?a.push(s):(z(o)||typeof o=="string"&&o!=="")&&a.push(s+"="+o)}return a.join(",")}function A(e,t,a){let s=window.open;if(b.is.cordova===!0){if(cordova!==void 0&&cordova.InAppBrowser!==void 0&&cordova.InAppBrowser.open!==void 0)s=cordova.InAppBrowser.open;else if(navigator!==void 0&&navigator.app!==void 0)return navigator.app.loadUrl(e,{openExternal:!0})}const o=s(e,"_blank",ue(a));if(o)return b.is.desktop&&o.focus(),o;t&&t()}var de=(e,t,a)=>{if(b.is.ios===!0&&window.SafariViewController!==void 0){window.SafariViewController.isAvailable(s=>{s?window.SafariViewController.show({url:e},R,t):A(e,t,a)});return}return A(e,t,a)};const pe=e=>(O("data-v-04aca762"),e=e(),X(),e),_e=["src"],me={class:"text-weight-bold"},ve={class:"text-gray-light"},fe={class:"flex flex-center q-mt-xl"},he=pe(()=>n("div",null,"Add Comment",-1)),ge={__name:"Comment",setup(e){q();const t=D(),a=L();I();const s=y([]),o=y(`https://github.com/${a.state.example.repositorySlug}/issues/${t.params.id}/#new_comment_field`),c=new T({auth:`${window.atob(_.accessToken)}`});function f(u){return V(u)}async function h(){const u=await c.request("GET /repos/{owner}/{repo}/issues/{issue_number}/comments",{owner:_.username,repo:_.repository,issue_number:t.params.id,headers:{"X-GitHub-Api-Version":"2022-11-28",Accept:"application/vnd.github.full+json"}});s.value=u.data}function g(){de(o.value)}return P(()=>{h()}),(u,l)=>(m(),$("div",null,[(m(!0),$(N,null,U(s.value,d=>(m(),C(ee,{bordered:"",class:"rounded-borders q-mt-lg",key:d.index},{default:i(()=>[r(K,{class:"q-pa-md"},{default:i(()=>[r(k,{avatar:""},{default:i(()=>[r(J,{rounded:""},{default:i(()=>[n("img",{alt:"avatar",src:d.user.avatar_url},null,8,_e)]),_:2},1024)]),_:2},1024),r(k,null,{default:i(()=>[r(x,{lines:"1"},{default:i(()=>[n("span",me,p(d.user.login),1),n("span",ve,p(f(d.updated_at)),1)]),_:2},1024),r(x,{innerHTML:d.body_html,class:"q-pt-sm"},null,8,["innerHTML"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),n("div",fe,[r(ae,{outline:"","no-caps":"",color:"cyan-9",onClick:g},{default:i(()=>[r(te,{left:"",size:"2rem",name:"add_comment"}),he]),_:1})])]))}};var we=G(ge,[["__scopeId","data-v-04aca762"]]);const be={class:"q-mb-lg"},ye={class:"text-cyan-9"},$e={class:"text-italic"},Ce=["innerHTML"],De={__name:"Post",setup(e){const t=q(),a=D(),s=L(),o=I(),c=y({}),f=new T({auth:`${window.atob(_.accessToken)}`});o.loading.show({delay:250}),g();function h(l){return V(l)}async function g(){const l=await f.request("GET /repos/{owner}/{repo}/issues/{issue_number}",{owner:_.username,repo:_.repository,issue_number:a.params.id,headers:{"X-GitHub-Api-Version":"2022-11-28",Accept:"application/vnd.github.full+json"}});console.log(l),c.value=l.data,o.loading.hide()}function u(l){t.push(`/?label=${l}`)}return(l,d)=>Z((m(),C(B,{padding:""},{default:i(()=>[n("div",be,[n("h1",ye,p(c.value.title),1),n("code",$e," Updated by "+p(W(s).state.example.username)+" from "+p(h(c.value.updated_at)),1)]),n("div",{innerHTML:c.value.body_html,class:"q-mt-lg"},null,8,Ce),n("div",null,[(m(!0),$(N,null,U(c.value.labels,v=>(m(),C(E,{outline:"",square:"",clickable:"",class:"label",key:v.index,style:F(`border-color: #${v.color}; color: #${v.color};`),onClick:Se=>u(v.name)},{default:i(()=>[Y(p(v.name),1)]),_:2},1032,["style","onClick"]))),128))]),r(M,{color:"cyan-9",style:{height:"1px"}}),r(we)]),_:1},512)),[[j,c.value.id]])}};export{De as default};
