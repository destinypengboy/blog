import{Q as x,b as _,c as L,d as Q}from"./QItem.2152e520.js";import{Q as $,a as C,u as I,O as q,b as D}from"./index.0bda842e.js";import"./axios.53a41ac7.js";import{R as V}from"./use-router-link.7cc4e0c5.js";import{d as H}from"./date.312e8698.js";import{_ as R,af as b,ag as w,U as o,a1 as c,a3 as k,a2 as v,H as S,V as g,W as t,X as a,a4 as T,$ as u,Z as f,ah as Y,r as B,ai as N,c as h,o as M,w as P,Y as j}from"./index.82275094.js";const A={class:"text-h6 text-cyan-9"},E={__name:"Item",props:["postList"],setup(y){const r=b();w();function d(e){return H.formatDate(e,"YYYY-MM-DD HH:mm:ss")}function p(e){return e.replace(/<\/?.+?>/g,"")}function l(e){r.push(`/posts/${e}`)}function m(e){r.push(`/?label=${e}`)}return(e,i)=>(o(),c("div",null,[(o(!0),c(k,null,v(y.postList,s=>(o(),c("div",{key:s.id},[S((o(),g(L,{clickable:"",class:"q-mt-lg"},{default:t(()=>[a(x,{onClick:n=>l(s.number)},{default:t(()=>[a(_,null,{default:t(()=>[T("div",A,u(s.title),1),a(_,{class:"text-gray-light text-weight-thin q-mt-sm q-mb-sm"},{default:t(()=>[f(u(d(s.created_at)),1)]),_:2},1024)]),_:2},1024),a(_,{lines:"4",class:"text-body1 text-gray-light text-justify"},{default:t(()=>[f(u(p(s.body_html)),1)]),_:2},1024)]),_:2},1032,["onClick"]),a(x,{side:"",top:""},{default:t(()=>[(o(!0),c(k,null,v(s.labels,n=>(o(),g($,{outline:"",square:"",clickable:"",class:"label",key:n.index,style:Y(`border-color: #${n.color}; color: #${n.color};`),onClick:G=>m(n.name)},{default:t(()=>[f(u(n.name),1)]),_:2},1032,["style","onClick"]))),128))]),_:2},1024)]),_:2},1024)),[[V]]),a(C,{spaced:"",inset:""})]))),128))]))}};var F=R(E,[["__scopeId","data-v-5c2a0134"]]);const J={__name:"List",setup(y){const r=B([]);N();const d=b(),p=w(),l=I(),m=new q({auth:`${window.atob(h.accessToken)}`});M(()=>{e()}),P(()=>d.currentRoute.value.path,i=>{e()},{immediate:!0,deep:!0});async function e(){l.loading.show({delay:250});const i=await m.request("GET /repos/{owner}/{repo}/issues",{owner:h.username,repo:h.repository,headers:{"X-GitHub-Api-Version":"2022-11-28",Accept:"application/vnd.github.full+json"},labels:p.query.label});console.log(i),r.value=i.data,l.loading.hide()}return(i,s)=>r.value.length!==0?(o(),g(D,{key:0,padding:""},{default:t(()=>[a(Q,{padding:"",class:"rounded-borders",style:{"margin-top":"-24px"}},{default:t(()=>[a(F,{postList:r.value},null,8,["postList"])]),_:1})]),_:1})):j("",!0)}};export{J as default};
